<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1058.3333px" preserveAspectRatio="none" style="width:1881px;height:1058px;background:#FFFFFF;" version="1.1" viewBox="0 0 1881 1058" width="1881.25px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="1046.0449" style="stroke:#181818;stroke-width:0.5208333333333334;" width="714.5833" x="954.6875" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="16.6667" font-weight="bold" lengthAdjust="spacing" textLength="135.4167" x="1241.6667" y="21.7204">FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="5.2083" x="1377.0833" y="22.4574"> </text><rect fill="#FFFFFF" height="833.8298" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="431.25" y="117.1143"/><rect fill="#FFFFFF" height="221.5983" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="998.9583" y="204.126"/><rect fill="#FFFFFF" height="46.11" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="1226.0417" y="303.4993"/><rect fill="#FFFFFF" height="289.8763" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="1564.5833" y="616.1377"/><rect fill="none" height="308.61" style="stroke:#000000;stroke-width:1.5625;" width="959.375" x="351.0417" y="132.7393"/><rect fill="none" height="170.4183" style="stroke:#000000;stroke-width:1.5625;" width="938.5417" x="361.4583" y="263.6393"/><rect fill="none" height="345.3613" style="stroke:#000000;stroke-width:1.5625;" width="1523.9583" x="351.0417" y="576.2777"/><rect fill="none" height="238.6963" style="stroke:#000000;stroke-width:1.5625;" width="1503.125" x="361.4583" y="675.651"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="32.2917" x2="32.2917" y1="84.6842" y2="969.694"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="436.4583" x2="436.4583" y1="84.6842" y2="969.694"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="1003.6458" x2="1003.6458" y1="84.6842" y2="969.694"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="1231.25" x2="1231.25" y1="84.6842" y2="969.694"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="1569.2708" x2="1569.2708" y1="84.6842" y2="969.694"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="47.9167" x="5.2083" y="81.2449">Nutzer</text><ellipse cx="32.2917" cy="14.0625" fill="#E3E3E3" rx="8.3333" ry="8.3333" style="stroke:#181818;stroke-width:0.5208333333333334;"/><path d="M32.2917,22.3958 L32.2917,50.5208 M18.75,30.7292 L45.8333,30.7292 M32.2917,50.5208 L18.75,66.1458 M32.2917,50.5208 L45.8333,66.1458 " fill="none" style="stroke:#181818;stroke-width:0.5208333333333334;"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="47.9167" x="5.2083" y="982.1889">Nutzer</text><ellipse cx="32.2917" cy="994.4824" fill="#E3E3E3" rx="8.3333" ry="8.3333" style="stroke:#181818;stroke-width:0.5208333333333334;"/><path d="M32.2917,1002.8158 L32.2917,1030.9408 M18.75,1011.1491 L45.8333,1011.1491 M32.2917,1030.9408 L18.75,1046.5658 M32.2917,1030.9408 L45.8333,1046.5658 " fill="none" style="stroke:#181818;stroke-width:0.5208333333333334;"/><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="129.1667" x="371.875" y="52.0833"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="114.5833" x="379.1667" y="72.9116">FHIR-VZD-Client</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="129.1667" x="371.875" y="968.6523"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="114.5833" x="379.1667" y="989.4806">FHIR-VZD-Client</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="958.8542" y="52.0833"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="966.1458" y="72.9116">FHIR-Proxy</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="958.8542" y="968.6523"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="966.1458" y="989.4806">FHIR-Proxy</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="116.6667" x="1172.9167" y="52.0833"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="102.0833" x="1180.2083" y="72.9116">FHIR-Directory</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="116.6667" x="1172.9167" y="968.6523"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="102.0833" x="1180.2083" y="989.4806">FHIR-Directory</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="190.625" x="1474.4792" y="52.0833"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="176.0417" x="1481.7708" y="72.9116">FHIR-VZD-Administration</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="190.625" x="1474.4792" y="968.6523"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="176.0417" x="1481.7708" y="989.4806">FHIR-VZD-Administration</text><rect fill="#FFFFFF" height="833.8298" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="431.25" y="117.1143"/><rect fill="#FFFFFF" height="221.5983" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="998.9583" y="204.126"/><rect fill="#FFFFFF" height="46.11" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="1226.0417" y="303.4993"/><rect fill="#FFFFFF" height="289.8763" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="1564.5833" y="616.1377"/><polygon fill="#181818" points="418.75,112.9476,429.1667,117.1143,418.75,121.2809,422.9167,117.1143" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="32.2917" x2="425" y1="117.1143" y2="117.1143"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="39.5833" y="111.8373">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="285.4167" x="75" y="111.8373">Suche nach eigenen verlinkten Ressourcen</text><path d="M351.0417,132.7393 L707.2917,132.7393 L707.2917,140.1693 L696.875,150.5859 L351.0417,150.5859 L351.0417,132.7393 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="308.61" style="stroke:#000000;stroke-width:1.5625;" width="959.375" x="351.0417" y="132.7393"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="309.375" x="366.6667" y="146.3506">Lese alle eigenen verlinkten Rassourcen</text><polygon fill="#181818" points="986.4583,199.9593,996.875,204.126,986.4583,208.2926,990.625,204.126" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="441.6667" x2="992.7083" y1="204.126" y2="204.126"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="448.9583" y="183.0856">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="497.9167" x="484.375" y="167.3223">GET /owner?... (Suche alle eigenen HealthcareService oder PractitionerRole</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="252.0833" x="484.375" y="183.0856">mit telematikID aus dem accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="427.0833" x="484.375" y="198.849">oder clientID/holder aus dem accesstoken (Kartenherausgeber))</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1009.375" x2="1053.125" y1="234.4727" y2="234.4727"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1053.125" x2="1053.125" y1="234.4727" y2="248.0143"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1010.4167" x2="1053.125" y1="248.0143" y2="248.0143"/><polygon fill="#181818" points="1020.8333,243.8477,1010.4167,248.0143,1020.8333,252.181,1016.6667,248.0143" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1016.6667" y="229.1957">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="166.6667" x="1052.0833" y="229.1957">prüfe owner-accesstoken</text><path d="M361.4583,263.6393 L428.125,263.6393 L428.125,271.0693 L417.7083,281.486 L361.4583,281.486 L361.4583,263.6393 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="170.4183" style="stroke:#000000;stroke-width:1.5625;" width="938.5417" x="361.4583" y="263.6393"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="19.7917" x="377.0833" y="277.2507">alt</text><text fill="#000000" font-family="sans-serif" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="145.8333" x="443.75" y="276.3585">[accesstoken is valid]</text><polygon fill="#181818" points="1213.5417,299.3327,1223.9583,303.4993,1213.5417,307.666,1217.7083,303.4993" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1009.375" x2="1219.7917" y1="303.4993" y2="303.4993"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1016.6667" y="298.2224">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="54.1667" x="1052.0833" y="298.2224">GET /?...</text><polygon fill="#181818" points="1020.8333,345.4427,1010.4167,349.6094,1020.8333,353.776,1016.6667,349.6094" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="1014.5833" x2="1230.2083" y1="349.6094" y2="349.6094"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1027.0833" y="336.4507">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="85.4167" x="1062.5" y="328.569">HTTP 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="119.7917" x="1062.5" y="344.3324">(Result Body json)</text><polygon fill="#181818" points="453.125,375.7894,442.7083,379.9561,453.125,384.1227,448.9583,379.9561" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="446.875" x2="997.9167" y1="379.9561" y2="379.9561"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="459.375" y="374.6791">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="209.375" x="494.7917" y="374.6791">HTTP 200 OK (Result Body json)</text><line style="stroke:#000000;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="361.4583" x2="1300" y1="389.3311" y2="389.3311"/><text fill="#000000" font-family="sans-serif" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="208.3333" x="366.6667" y="399.9669">[search-accesstoken is invalid]</text><polygon fill="#181818" points="453.125,421.5576,442.7083,425.7243,453.125,429.891,448.9583,425.7243" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="446.875" x2="1003.125" y1="425.7243" y2="425.7243"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="459.375" y="420.4473">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="62.5" x="494.7917" y="420.4473">HTTP 401</text><polygon fill="#181818" points="43.75,466.4876,33.3333,470.6543,43.75,474.821,39.5833,470.6543" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="37.5" x2="430.2083" y1="470.6543" y2="470.6543"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="50" y="465.3773">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="258.3333" x="85.4167" y="465.3773">Anzeige eigener, verlinkter Ressourcen</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="32.2917" x2="76.0417" y1="501.001" y2="501.001"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="76.0417" x2="76.0417" y1="501.001" y2="514.5426"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="33.3333" x2="76.0417" y1="514.5426" y2="514.5426"/><polygon fill="#181818" points="43.75,510.376,33.3333,514.5426,43.75,518.7093,39.5833,514.5426" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="39.5833" y="495.724">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="354.1667" x="75" y="495.724">Auswahl der Verlinkungen, die gelöscht werden sollen</text><polygon fill="#181818" points="418.75,556.486,429.1667,560.6527,418.75,564.8193,422.9167,560.6527" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="32.2917" x2="425" y1="560.6527" y2="560.6527"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="39.5833" y="547.494">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="137.5" x="75" y="539.6123">Lösche Verlinkungen</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="185.4167" x="75" y="555.3757">mit selektierten Ressourcen</text><path d="M351.0417,576.2777 L554.1667,576.2777 L554.1667,583.7077 L543.75,594.1243 L351.0417,594.1243 L351.0417,576.2777 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="345.3613" style="stroke:#000000;stroke-width:1.5625;" width="1523.9583" x="351.0417" y="576.2777"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="156.25" x="366.6667" y="589.889">VerlinkungsRemoval</text><polygon fill="#181818" points="1552.0833,611.971,1562.5,616.1377,1552.0833,620.3044,1556.25,616.1377" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="441.6667" x2="1558.3333" y1="616.1377" y2="616.1377"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="448.9583" y="610.8607">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="211.4583" x="484.375" y="610.8607">deletePersonInstitutionLink {id}</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1575" x2="1618.75" y1="646.4844" y2="646.4844"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1618.75" x2="1618.75" y1="646.4844" y2="660.026"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1576.0417" x2="1618.75" y1="660.026" y2="660.026"/><polygon fill="#181818" points="1586.4583,655.8594,1576.0417,660.026,1586.4583,664.1927,1582.2917,660.026" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1582.2917" y="641.2074">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="166.6667" x="1617.7083" y="641.2074">prüfe owner-accesstoken</text><path d="M361.4583,675.651 L428.125,675.651 L428.125,683.0811 L417.7083,693.4977 L361.4583,693.4977 L361.4583,675.651 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="238.6963" style="stroke:#000000;stroke-width:1.5625;" width="1503.125" x="361.4583" y="675.651"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="19.7917" x="377.0833" y="689.2624">alt</text><text fill="#000000" font-family="sans-serif" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="140.625" x="443.75" y="688.3703">[accesstoken is valid</text><text fill="#000000" font-family="sans-serif" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="627.0833" x="443.75" y="701.7085">&amp; Verlinkung gehört zu eigener Ressource (telematikID/clientID/holder aus dem accesstoken)]</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1575" x2="1618.75" y1="726.5625" y2="726.5625"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1618.75" x2="1618.75" y1="726.5625" y2="740.1042"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1576.0417" x2="1618.75" y1="740.1042" y2="740.1042"/><polygon fill="#181818" points="1586.4583,735.9375,1576.0417,740.1042,1586.4583,744.2708,1582.2917,740.1042" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1582.2917" y="721.2855">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="234.375" x="1617.7083" y="721.2855">Eintragen des Verlinkungsremovals</text><polygon fill="#181818" points="1242.7083,766.2842,1232.2917,770.4508,1242.7083,774.6175,1238.5417,770.4508" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1236.4583" x2="1563.5417" y1="770.4508" y2="770.4508"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1248.9583" y="765.1738">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="272.9167" x="1284.375" y="765.1738">Löschen der Verlinkung in die FHIR Daten</text><polygon fill="#181818" points="1552.0833,796.6309,1562.5,800.7975,1552.0833,804.9642,1556.25,800.7975" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="1231.25" x2="1558.3333" y1="800.7975" y2="800.7975"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="1238.5417" y="795.5205">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="85.4167" x="1273.9583" y="795.5205">HTTP 200 OK</text><polygon fill="#181818" points="453.125,842.7409,442.7083,846.9076,453.125,851.0742,448.9583,846.9076" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="446.875" x2="1563.5417" y1="846.9076" y2="846.9076"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="459.375" y="833.7489">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="85.4167" x="494.7917" y="825.8672">HTTP 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="119.7917" x="494.7917" y="841.6306">(Result Body json)</text><line style="stroke:#000000;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="361.4583" x2="1864.5833" y1="856.2826" y2="856.2826"/><text fill="#000000" font-family="sans-serif" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="200" x="366.6667" y="866.9184">[owner-accesstoken is invalid</text><text fill="#000000" font-family="sans-serif" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="543.75" x="366.6667" y="880.2567">oder Verlinkung bezieht sich nicht auf eigene Ressourcen/Zuständigkeitsbereich]</text><polygon fill="#181818" points="453.125,901.8473,442.7083,906.014,453.125,910.1807,448.9583,906.014" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="446.875" x2="1568.75" y1="906.014" y2="906.014"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="459.375" y="900.737">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="62.5" x="494.7917" y="900.737">HTTP 401</text><polygon fill="#181818" points="43.75,946.7773,33.3333,950.944,43.75,955.1107,39.5833,950.944" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="37.5" x2="435.4167" y1="950.944" y2="950.944"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="31.25" x="50" y="945.667">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="195.8333" x="85.4167" y="945.667">Ergebnis Verlinkungsapproval</text><!--MD5=[ea0ea3393f12a9c6ab97e7aa17ca5f47]
@startuml SequenceDiagram.FHIR-Directory.linkRemoval
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true
autonumber "<b>[00]"

'title "FHIR-Directory, Sequenzdiagram link removal'
actor Nutzer
participant cl as "FHIR-VZD-Client"
box <size:16>FHIR-Directory</size> #WhiteSmoke
  participant fp as "FHIR-Proxy"
  participant fd as "FHIR-Directory"
  participant fa as "FHIR-VZD-Administration"
end box

Nutzer -> cl:Suche nach eigenen verlinkten Ressourcen
activate cl


group Lese alle eigenen verlinkten Rassourcen
  cl -> fp: GET /owner?... (Suche alle eigenen HealthcareService oder PractitionerRole \nmit telematikID aus dem accesstoken \noder clientID/holder aus dem accesstoken (Kartenherausgeber))
  activate fp
  fp -> fp: prüfe owner-accesstoken

    alt accesstoken is valid
      fp -> fd: GET /?...
      activate fd
      fd - -> fp: HTTP 200 OK\n(Result Body json)
      deactivate fd
      fp - -> cl: HTTP 200 OK (Result Body json)
     else search-accesstoken is invalid
      fp - -> cl: HTTP 401
      deactivate fp
     end
end

cl - -> Nutzer:Anzeige eigener, verlinkter Ressourcen 
Nutzer -> Nutzer: Auswahl der Verlinkungen, die gelöscht werden sollen
Nutzer -> cl: Lösche Verlinkungen \nmit selektierten Ressourcen

group VerlinkungsRemoval
  cl -> fa: deletePersonInstitutionLink {id}
  activate fa
  fa -> fa: prüfe owner-accesstoken

    alt accesstoken is valid \n& Verlinkung gehört zu eigener Ressource (telematikID/clientID/holder aus dem accesstoken)
      fa -> fa: Eintragen des Verlinkungsremovals
      fa -> fd: Löschen der Verlinkung in die FHIR Daten
      fd - -> fa: HTTP 200 OK
      fa - -> cl: HTTP 200 OK\n(Result Body json)
      
     else owner-accesstoken is invalid\noder Verlinkung bezieht sich nicht auf eigene Ressourcen/Zuständigkeitsbereich
      fa - -> cl: HTTP 401
      deactivate fa
     end
end

cl -> Nutzer: Ergebnis Verlinkungsapproval

deactivate cl

@enduml

@startuml SequenceDiagram.FHIR-Directory.linkRemoval
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true
autonumber "<b>[00]"

actor Nutzer
participant cl as "FHIR-VZD-Client"
box <size:16>FHIR-Directory</size> #WhiteSmoke
  participant fp as "FHIR-Proxy"
  participant fd as "FHIR-Directory"
  participant fa as "FHIR-VZD-Administration"
end box

Nutzer -> cl:Suche nach eigenen verlinkten Ressourcen
activate cl


group Lese alle eigenen verlinkten Rassourcen
  cl -> fp: GET /owner?... (Suche alle eigenen HealthcareService oder PractitionerRole \nmit telematikID aus dem accesstoken \noder clientID/holder aus dem accesstoken (Kartenherausgeber))
  activate fp
  fp -> fp: prüfe owner-accesstoken

    alt accesstoken is valid
      fp -> fd: GET /?...
      activate fd
      fd - -> fp: HTTP 200 OK\n(Result Body json)
      deactivate fd
      fp - -> cl: HTTP 200 OK (Result Body json)
     else search-accesstoken is invalid
      fp - -> cl: HTTP 401
      deactivate fp
     end
end

cl - -> Nutzer:Anzeige eigener, verlinkter Ressourcen 
Nutzer -> Nutzer: Auswahl der Verlinkungen, die gelöscht werden sollen
Nutzer -> cl: Lösche Verlinkungen \nmit selektierten Ressourcen

group VerlinkungsRemoval
  cl -> fa: deletePersonInstitutionLink {id}
  activate fa
  fa -> fa: prüfe owner-accesstoken

    alt accesstoken is valid \n& Verlinkung gehört zu eigener Ressource (telematikID/clientID/holder aus dem accesstoken)
      fa -> fa: Eintragen des Verlinkungsremovals
      fa -> fd: Löschen der Verlinkung in die FHIR Daten
      fd - -> fa: HTTP 200 OK
      fa - -> cl: HTTP 200 OK\n(Result Body json)
      
     else owner-accesstoken is invalid\noder Verlinkung bezieht sich nicht auf eigene Ressourcen/Zuständigkeitsbereich
      fa - -> cl: HTTP 401
      deactivate fa
     end
end

cl -> Nutzer: Ergebnis Verlinkungsapproval

deactivate cl

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>