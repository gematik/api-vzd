<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="544.7917px" preserveAspectRatio="none" style="width:731px;height:544px;background:#FFFFFF;" version="1.1" viewBox="0 0 731 544" width="731.25px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="393.4652" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="114.5833" y="87.2152"/><rect fill="#FFFFFF" height="74.235" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="429.1667" y="87.2152"/><rect fill="#FFFFFF" height="232.2184" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="664.5833" y="248.4619"/><rect fill="none" height="110.0667" style="stroke:#000000;stroke-width:1.5625;" width="715.1042" x="10.4167" y="177.0752"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="715.1042" x="10.4167" y="301.7253"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="715.1042" x="10.4167" y="394.8486"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="119.7917" x2="119.7917" y1="54.7852" y2="491.097"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="434.375" x2="434.375" y1="54.7852" y2="491.097"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="669.2708" x2="669.2708" y1="54.7852" y2="491.097"/><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="197.9167" x="20.8333" y="5.2083"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="183.3333" x="28.125" y="26.0366">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="150" x="44.7917" y="43.0125">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="197.9167" x="20.8333" y="490.0553"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="183.3333" x="28.125" y="510.8836">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="150" x="44.7917" y="527.8595">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="110.4167" x="379.1667" y="5.2083"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="31.25" x="418.75" y="26.0366">VZD</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="95.8333" x="386.4583" y="43.0125">OAuth-Server</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="110.4167" x="379.1667" y="490.0553"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="31.25" x="418.75" y="510.8836">VZD</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="95.8333" x="386.4583" y="527.8595">OAuth-Server</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="624.4792" y="22.1842"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="631.7708" y="43.0125">FHIR-Proxy</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="624.4792" y="490.0553"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="631.7708" y="510.8836">FHIR-Proxy</text><rect fill="#FFFFFF" height="393.4652" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="114.5833" y="87.2152"/><rect fill="#FFFFFF" height="74.235" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="429.1667" y="87.2152"/><rect fill="#FFFFFF" height="232.2184" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="664.5833" y="248.4619"/><polygon fill="#181818" points="416.6667,83.0485,427.0833,87.2152,416.6667,91.3818,420.8333,87.2152" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="422.9167" y1="87.2152" y2="87.2152"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="289.5833" x="132.2917" y="81.9382">POST /authenticate (client_id, client_secret)</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="439.5833" x2="483.3333" y1="117.5618" y2="117.5618"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="483.3333" x2="483.3333" y1="117.5618" y2="131.1035"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="440.625" x2="483.3333" y1="131.1035" y2="131.1035"/><polygon fill="#181818" points="451.0417,126.9368,440.625,131.1035,451.0417,135.2702,446.875,131.1035" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="210.4167" x="446.875" y="112.2849">prüfe client_id und client_secret</text><polygon fill="#181818" points="136.4583,157.2835,126.0417,161.4502,136.4583,165.6169,132.2917,161.4502" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="433.3333" y1="161.4502" y2="161.4502"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="142.7083" x="142.7083" y="156.1732">provider-accesstoken</text><path d="M10.4167,177.0752 L119.7917,177.0752 L119.7917,184.5052 L109.375,194.9219 L10.4167,194.9219 L10.4167,177.0752 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="110.0667" style="stroke:#000000;stroke-width:1.5625;" width="715.1042" x="10.4167" y="177.0752"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="190.6865">optional</text><polygon fill="#181818" points="652.0833,244.2952,662.5,248.4619,652.0833,252.6286,656.25,248.4619" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="658.3333" y1="248.4619" y2="248.4619"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="297.9167" x="132.2917" y="211.6582">FHIR Request /FHIR mit provider-accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="380.2083" x="132.2917" y="227.4216">Ressourcen TIOrganization (type: TI-Messenger-Provider),</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="150" x="132.2917" y="243.1849">Endpoint (tim-domain)</text><polygon fill="#181818" points="136.4583,274.6419,126.0417,278.8086,136.4583,282.9753,132.2917,278.8086" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="663.5417" y1="278.8086" y2="278.8086"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="255.2083" x="142.7083" y="273.5316">HTTP 200 OK Response body FHIR json</text><path d="M10.4167,301.7253 L119.7917,301.7253 L119.7917,309.1553 L109.375,319.5719 L10.4167,319.5719 L10.4167,301.7253 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="715.1042" x="10.4167" y="301.7253"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="315.3366">optional</text><polygon fill="#181818" points="652.0833,337.4186,662.5,341.5853,652.0833,345.752,656.25,341.5853" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="658.3333" y1="341.5853" y2="341.5853"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="301.0417" x="132.2917" y="336.3083">GET /FederationList mit provider-accesstoken</text><polygon fill="#181818" points="136.4583,367.7653,126.0417,371.932,136.4583,376.0986,132.2917,371.932" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="663.5417" y1="371.932" y2="371.932"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="298.9583" x="142.7083" y="366.655">HTTP 200 OK Response body domainList json</text><path d="M10.4167,394.8486 L119.7917,394.8486 L119.7917,402.2786 L109.375,412.6953 L10.4167,412.6953 L10.4167,394.8486 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="715.1042" x="10.4167" y="394.8486"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="408.46">optional</text><polygon fill="#181818" points="652.0833,430.542,662.5,434.7087,652.0833,438.8753,656.25,434.7087" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="658.3333" y1="434.7087" y2="434.7087"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="494.7917" x="132.2917" y="429.4317">GET /localization mit provider-accesstoken und hash der MXID in URL Form</text><polygon fill="#181818" points="136.4583,460.8887,126.0417,465.0553,136.4583,469.222,132.2917,465.0553" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="663.5417" y1="465.0553" y2="465.0553"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="477.0833" x="142.7083" y="459.7783">HTTP 200 OK Response body &lt;enum: [org, pract, orgPract, none]&gt; json</text><!--MD5=[d5711ce926d52e425d9f5539e52f5431]
@startuml I_VZD_TIM_Provider_Services
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true

participant rd as "TI-Messenger-Fachdienst\nRegistrierungsdienst"
participant oa as "VZD\nOAuth-Server"
participant fp as "FHIR-Proxy"

rd -> oa: POST /authenticate (client_id, client_secret)
activate rd
activate oa
oa -> oa: prüfe client_id und client_secret
oa - -> rd: provider-accesstoken
deactivate oa
group optional
rd -> fp: FHIR Request /FHIR mit provider-accesstoken\nRessourcen TIOrganization (type: TI-Messenger-Provider),\nEndpoint (tim-domain)
activate fp
fp - -> rd: HTTP 200 OK Response body FHIR json
end
group optional
rd -> fp: GET /FederationList mit provider-accesstoken
fp - -> rd: HTTP 200 OK Response body domainList json
end
group optional
rd -> fp: GET /localization mit provider-accesstoken und hash der MXID in URL Form
fp - -> rd: HTTP 200 OK Response body <enum: [org, pract, orgPract, none]> json
end

deactivate fp
deactivate rd
@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>