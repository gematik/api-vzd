<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="512.5px" preserveAspectRatio="none" style="width:771px;height:512px;background:#FFFFFF;" version="1.1" viewBox="0 0 771 512" width="771.875px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="361.9385" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="114.5833" y="87.2152"/><rect fill="#FFFFFF" height="74.235" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="429.1667" y="87.2152"/><rect fill="#FFFFFF" height="232.2184" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="705.2083" y="216.9352"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="755.7292" x="10.4167" y="177.0752"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="755.7292" x="10.4167" y="270.1986"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="755.7292" x="10.4167" y="363.3219"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="119.7917" x2="119.7917" y1="54.7852" y2="459.5703"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="434.375" x2="434.375" y1="54.7852" y2="459.5703"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="709.8958" x2="709.8958" y1="54.7852" y2="459.5703"/><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="197.9167" x="20.8333" y="5.2083"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="183.3333" x="28.125" y="26.0366">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="150" x="44.7917" y="43.0125">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="197.9167" x="20.8333" y="458.5286"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="183.3333" x="28.125" y="479.3569">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="150" x="44.7917" y="496.3328">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="110.4167" x="379.1667" y="5.2083"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="31.25" x="418.75" y="26.0366">VZD</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="95.8333" x="386.4583" y="43.0125">OAuth-Server</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="110.4167" x="379.1667" y="458.5286"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="31.25" x="418.75" y="479.3569">VZD</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="95.8333" x="386.4583" y="496.3328">OAuth-Server</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="665.1042" y="22.1842"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="672.3958" y="43.0125">FHIR-Proxy</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="665.1042" y="458.5286"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="672.3958" y="479.3569">FHIR-Proxy</text><rect fill="#FFFFFF" height="361.9385" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="114.5833" y="87.2152"/><rect fill="#FFFFFF" height="74.235" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="429.1667" y="87.2152"/><rect fill="#FFFFFF" height="232.2184" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="705.2083" y="216.9352"/><polygon fill="#181818" points="416.6667,83.0485,427.0833,87.2152,416.6667,91.3818,420.8333,87.2152" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="422.9167" y1="87.2152" y2="87.2152"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="289.5833" x="132.2917" y="81.9382">POST /authenticate (client_id, client_secret)</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="439.5833" x2="483.3333" y1="117.5618" y2="117.5618"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="483.3333" x2="483.3333" y1="117.5618" y2="131.1035"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="440.625" x2="483.3333" y1="131.1035" y2="131.1035"/><polygon fill="#181818" points="451.0417,126.9368,440.625,131.1035,451.0417,135.2702,446.875,131.1035" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="210.4167" x="446.875" y="112.2849">prüfe client_id und client_secret</text><polygon fill="#181818" points="136.4583,157.2835,126.0417,161.4502,136.4583,165.6169,132.2917,161.4502" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="433.3333" y1="161.4502" y2="161.4502"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="142.7083" x="142.7083" y="156.1732">provider-accesstoken</text><path d="M10.4167,177.0752 L119.7917,177.0752 L119.7917,184.5052 L109.375,194.9219 L10.4167,194.9219 L10.4167,177.0752 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="755.7292" x="10.4167" y="177.0752"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="190.6865">optional</text><polygon fill="#181818" points="692.7083,212.7686,703.125,216.9352,692.7083,221.1019,696.875,216.9352" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="698.9583" y1="216.9352" y2="216.9352"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="560.4167" x="132.2917" y="211.6582">POST/GET/PUT/DELETE /federation mit provider-accesstoken (domainAdministration)</text><polygon fill="#181818" points="136.4583,243.1152,126.0417,247.2819,136.4583,251.4486,132.2917,247.2819" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="704.1667" y1="247.2819" y2="247.2819"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="154.1667" x="142.7083" y="242.0049">HTTP 200 OK Response</text><path d="M10.4167,270.1986 L119.7917,270.1986 L119.7917,277.6286 L109.375,288.0452 L10.4167,288.0452 L10.4167,270.1986 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="755.7292" x="10.4167" y="270.1986"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="283.8099">optional</text><polygon fill="#181818" points="692.7083,305.8919,703.125,310.0586,692.7083,314.2253,696.875,310.0586" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="698.9583" y1="310.0586" y2="310.0586"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="301.0417" x="132.2917" y="304.7816">GET /FederationList mit provider-accesstoken</text><polygon fill="#181818" points="136.4583,336.2386,126.0417,340.4053,136.4583,344.5719,132.2917,340.4053" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="704.1667" y1="340.4053" y2="340.4053"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="298.9583" x="142.7083" y="335.1283">HTTP 200 OK Response body domainList json</text><path d="M10.4167,363.3219 L119.7917,363.3219 L119.7917,370.752 L109.375,381.1686 L10.4167,381.1686 L10.4167,363.3219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="755.7292" x="10.4167" y="363.3219"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="376.9333">optional</text><polygon fill="#181818" points="692.7083,399.0153,703.125,403.182,692.7083,407.3486,696.875,403.182" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="698.9583" y1="403.182" y2="403.182"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="432.2917" x="132.2917" y="397.905">GET /localization mit provider-accesstoken und MXID in URL Form</text><polygon fill="#181818" points="136.4583,429.362,126.0417,433.5286,136.4583,437.6953,132.2917,433.5286" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="704.1667" y1="433.5286" y2="433.5286"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="477.0833" x="142.7083" y="428.2516">HTTP 200 OK Response body &lt;enum: [org, pract, orgPract, none]&gt; json</text><!--MD5=[5c9f5ac62e41ac3da7e989f5b5f6b649]
@startuml I_VZD_TIM_Provider_Services
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true

participant rd as "TI-Messenger-Fachdienst\nRegistrierungsdienst"
participant oa as "VZD\nOAuth-Server"
participant fp as "FHIR-Proxy"

rd -> oa: POST /authenticate (client_id, client_secret)
activate rd
activate oa
oa -> oa: prüfe client_id und client_secret
oa - -> rd: provider-accesstoken
deactivate oa
group optional
rd -> fp: POST/GET/PUT/DELETE /federation mit provider-accesstoken (domainAdministration)
activate fp
fp - -> rd: HTTP 200 OK Response
end
group optional
rd -> fp: GET /FederationList mit provider-accesstoken
fp - -> rd: HTTP 200 OK Response body domainList json
end
group optional
rd -> fp: GET /localization mit provider-accesstoken und MXID in URL Form
fp - -> rd: HTTP 200 OK Response body <enum: [org, pract, orgPract, none]> json
end

deactivate fp
deactivate rd
@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>