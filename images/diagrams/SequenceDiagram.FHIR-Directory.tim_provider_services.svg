<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="451.0417px" preserveAspectRatio="none" style="width:675px;height:451px;background:#FFFFFF;" version="1.1" viewBox="0 0 675 451" width="675px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="300.3418" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="114.5833" y="87.2152"/><rect fill="#FFFFFF" height="74.235" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="372.9167" y="87.2152"/><rect fill="#FFFFFF" height="139.0951" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="608.3333" y="248.4619"/><rect height="110.0667" style="stroke:#000000;stroke-width:1.5625;fill:none;" width="658.8542" x="10.4167" y="177.0752"/><rect height="78.54" style="stroke:#000000;stroke-width:1.5625;fill:none;" width="658.8542" x="10.4167" y="301.7253"/><line style="stroke:#181818;stroke-width:0.5208333333333334;fill:none;stroke-dasharray:5.0,5.0;" x1="119.7917" x2="119.7917" y1="54.7852" y2="397.9736"/><line style="stroke:#181818;stroke-width:0.5208333333333334;fill:none;stroke-dasharray:5.0,5.0;" x1="378.125" x2="378.125" y1="54.7852" y2="397.9736"/><line style="stroke:#181818;stroke-width:0.5208333333333334;fill:none;stroke-dasharray:5.0,5.0;" x1="613.0208" x2="613.0208" y1="54.7852" y2="397.9736"/><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="197.9167" x="20.8333" y="5.2083"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="183.3333" x="28.125" y="26.0366">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="150" x="44.7917" y="43.0125">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="197.9167" x="20.8333" y="396.932"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="183.3333" x="28.125" y="417.7602">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="150" x="44.7917" y="434.7361">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="110.4167" x="322.9167" y="5.2083"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="31.25" x="362.5" y="26.0366">VZD</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="95.8333" x="330.2083" y="43.0125">OAuth-Server</text><rect fill="#E3E3E3" height="48.5352" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="110.4167" x="322.9167" y="396.932"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="31.25" x="362.5" y="417.7602">VZD</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="95.8333" x="330.2083" y="434.7361">OAuth-Server</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="568.2292" y="22.1842"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="575.5208" y="43.0125">FHIR-Proxy</text><rect fill="#E3E3E3" height="31.5592" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="90.625" x="568.2292" y="396.932"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="76.0417" x="575.5208" y="417.7602">FHIR-Proxy</text><rect fill="#FFFFFF" height="300.3418" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="114.5833" y="87.2152"/><rect fill="#FFFFFF" height="74.235" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="372.9167" y="87.2152"/><rect fill="#FFFFFF" height="139.0951" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="608.3333" y="248.4619"/><polygon fill="#181818" points="360.4167,83.0485,370.8333,87.2152,360.4167,91.3818,364.5833,87.2152" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="366.6667" y1="87.2152" y2="87.2152"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="233.3333" x="132.2917" y="81.9382">GET /token (client_id, client_secret)</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="383.3333" x2="427.0833" y1="117.5618" y2="117.5618"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="427.0833" x2="427.0833" y1="117.5618" y2="131.1035"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="384.375" x2="427.0833" y1="131.1035" y2="131.1035"/><polygon fill="#181818" points="394.7917,126.9368,384.375,131.1035,394.7917,135.2702,390.625,131.1035" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="210.4167" x="390.625" y="112.2849">prüfe client_id und client_secret</text><polygon fill="#181818" points="136.4583,157.2835,126.0417,161.4502,136.4583,165.6169,132.2917,161.4502" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="377.0833" y1="161.4502" y2="161.4502"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="84.375" x="142.7083" y="156.1732">Accesstoken</text><path d="M10.4167,177.0752 L119.7917,177.0752 L119.7917,184.5052 L109.375,194.9219 L10.4167,194.9219 L10.4167,177.0752 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="110.0667" style="stroke:#000000;stroke-width:1.5625;" width="658.8542" x="10.4167" y="177.0752"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="190.6865">optional</text><polygon fill="#181818" points="595.8333,244.2952,606.25,248.4619,595.8333,252.6286,600,248.4619" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="602.0833" y1="248.4619" y2="248.4619"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="239.5833" x="132.2917" y="211.6582">FHIR Request /FHIR mit Accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="380.2083" x="132.2917" y="227.4216">Ressourcen TIOrganization (type: TI-Messenger-Provider),</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="150" x="132.2917" y="243.1849">Endpoint (tim-domain)</text><polygon fill="#181818" points="136.4583,274.6419,126.0417,278.8086,136.4583,282.9753,132.2917,278.8086" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="607.2917" y1="278.8086" y2="278.8086"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="255.2083" x="142.7083" y="273.5316">HTTP 200 OK Response body FHIR json</text><path d="M10.4167,301.7253 L119.7917,301.7253 L119.7917,309.1553 L109.375,319.5719 L10.4167,319.5719 L10.4167,301.7253 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5625;"/><rect fill="none" height="78.54" style="stroke:#000000;stroke-width:1.5625;" width="658.8542" x="10.4167" y="301.7253"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="26.0417" y="315.3366">optional</text><polygon fill="#181818" points="595.8333,337.4186,606.25,341.5853,595.8333,345.752,600,341.5853" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="125" x2="602.0833" y1="341.5853" y2="341.5853"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="242.7083" x="132.2917" y="336.3083">GET /FederationList mit Accesstoken</text><polygon fill="#181818" points="136.4583,367.7653,126.0417,371.932,136.4583,376.0986,132.2917,371.932" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="130.2083" x2="607.2917" y1="371.932" y2="371.932"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="298.9583" x="142.7083" y="366.655">HTTP 200 OK Response body domainList json</text><!--MD5=[972b24bb5ef10d784d4fe66344052865]
@startuml
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true

participant rd as "TI-Messenger-Fachdienst\nRegistrierungsdienst"
participant oa as "VZD\nOAuth-Server"
participant fp as "FHIR-Proxy"

rd -> oa: GET /token (client_id, client_secret)
activate rd
activate oa
oa -> oa: prüfe client_id und client_secret
oa - -> rd: Accesstoken
deactivate oa
group optional
rd -> fp: FHIR Request /FHIR mit Accesstoken\nRessourcen TIOrganization (type: TI-Messenger-Provider),\nEndpoint (tim-domain)
activate fp
fp - -> rd: HTTP 200 OK Response body FHIR json
end
group optional
rd -> fp: GET /FederationList mit Accesstoken
fp - -> rd: HTTP 200 OK Response body domainList json
end

deactivate fp
deactivate rd
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>