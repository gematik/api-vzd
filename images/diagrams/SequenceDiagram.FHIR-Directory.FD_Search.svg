<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="776px" preserveAspectRatio="none" style="width:1000px;height:776px;background:#FFFFFF;" version="1.1" viewBox="0 0 1000 776" width="1000px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="334" x="329" y="27.9951">FHIR-VZD Authentisierung f&#252;r Fachdienste</text><rect fill="#DDDDDD" height="727.0547" style="stroke:#181818;stroke-width:0.5;" width="127" x="1.5" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121" x="4.5" y="55.3638">Fachanwendung</text><rect fill="#DDDDDD" height="727.0547" style="stroke:#181818;stroke-width:0.5;" width="588.5" x="388.5" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142" x="611.75" y="55.3638">VZD-FHIR-Directory</text><rect fill="none" height="374.5938" style="stroke:#000000;stroke-width:1.5;" width="924.5" x="10" y="152.8594"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="973" x="10" y="628.8516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="65" x2="65" y1="93.7266" y2="736.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="445.5" x2="445.5" y1="93.7266" y2="736.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="690" x2="690" y1="93.7266" y2="736.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="929" x2="929" y1="93.7266" y2="736.0547"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="20" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="27" y="82.4248">Fachdienst</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="20" y="735.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="27" y="755.0498">Fachdienst</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="392.5" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="399.5" y="82.4248">OAuth-Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="392.5" y="735.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="399.5" y="755.0498">OAuth-Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="640" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="647" y="82.4248">Auth-Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="640" y="735.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="647" y="755.0498">Auth-Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="886" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="893" y="82.4248">FHIR-Proxy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="886" y="735.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="893" y="755.0498">FHIR-Proxy</text><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="107" y1="124.8594" y2="124.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="124.8594" y2="137.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="66" x2="107" y1="137.8594" y2="137.8594"/><polygon fill="#181818" points="76,133.8594,66,137.8594,76,141.8594,72,137.8594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="119.7935">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="106" y="119.7935">pr&#252;fe, ob g&#252;ltiges</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="152" x="221" y="119.7935">search-access_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="377" y="119.7935">vorliegt</text><path d="M10,152.8594 L74,152.8594 L74,159.9922 L64,169.9922 L10,169.9922 L10,152.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="374.5938" style="stroke:#000000;stroke-width:1.5;" width="924.5" x="10" y="152.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="165.9263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="303" x="89" y="165.0698">[kein g&#252;ltiges search-access_token vorhanden]</text><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="107" y1="191.125" y2="191.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="191.125" y2="204.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="66" x2="107" y1="204.125" y2="204.125"/><polygon fill="#181818" points="76,200.125,66,204.125,76,208.125,72,204.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="186.0591">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="106" y="186.0591">client_id und client_secret z.B. aus config lesen</text><polygon fill="#181818" points="433.5,229.2578,443.5,233.2578,433.5,237.2578,437.5,233.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="439.5" y1="233.2578" y2="233.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="228.1919">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="106" y="228.1919">POST /token (client_id, client_secret)</text><line style="stroke:#181818;stroke-width:1.0;" x1="445.5" x2="487.5" y1="262.3906" y2="262.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="487.5" y1="262.3906" y2="275.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.5" x2="487.5" y1="275.3906" y2="275.3906"/><polygon fill="#181818" points="456.5,271.3906,446.5,275.3906,456.5,279.3906,452.5,275.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="452.5" y="257.3247">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="486.5" y="257.3247">pr&#252;fe client_id, client_secret</text><polygon fill="#181818" points="76,300.5234,66,304.5234,76,308.5234,72,304.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="70" x2="444.5" y1="304.5234" y2="304.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="82" y="299.4575">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="116" y="299.4575">service-authz-token</text><polygon fill="#181818" points="678.5,344.7891,688.5,348.7891,678.5,352.7891,682.5,348.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="684.5" y1="348.7891" y2="348.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="336.1567">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="106" y="328.5903">GET /service-authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="106" y="343.7231">Authorization: Bearer {service-authz-token}</text><line style="stroke:#181818;stroke-width:1.0;" x1="690.5" x2="732.5" y1="377.9219" y2="377.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="732.5" x2="732.5" y1="377.9219" y2="390.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="732.5" y1="390.9219" y2="390.9219"/><polygon fill="#181818" points="701.5,386.9219,691.5,390.9219,701.5,394.9219,697.5,390.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="697.5" y="372.856">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="731.5" y="372.856">Pr&#252;fe service-authz-token</text><line style="stroke:#181818;stroke-width:1.0;" x1="690.5" x2="732.5" y1="420.0547" y2="420.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="732.5" x2="732.5" y1="420.0547" y2="433.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="732.5" y1="433.0547" y2="433.0547"/><polygon fill="#181818" points="701.5,429.0547,691.5,433.0547,701.5,437.0547,697.5,433.0547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="697.5" y="414.9888">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="731.5" y="414.9888">Erzeuge search-access_token</text><polygon fill="#181818" points="76,473.3203,66,477.3203,76,481.3203,72,477.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="70" x2="689.5" y1="477.3203" y2="477.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="82" y="464.688">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="116" y="457.1216">HTTP 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="553" x="116" y="472.2544">{ "access_token": "search-access_token", "token_type": "bearer", "expires_in": 86400 }</text><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="107" y1="506.4531" y2="506.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="506.4531" y2="519.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="66" x2="107" y1="519.4531" y2="519.4531"/><polygon fill="#181818" points="76,515.4531,66,519.4531,76,523.4531,72,519.4531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="501.3872">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="106" y="501.3872">cache search-access_token</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="993" x="0" y="555.0195"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="993" y1="555.0195" y2="555.0195"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="993" y1="558.0195" y2="558.0195"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="294" x="349.5" y="544.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="275" x="355.5" y="560.52">Suche durch Fachdienst im FHIR VZD</text><polygon fill="#181818" points="917.5,609.8516,927.5,613.8516,917.5,617.8516,921.5,613.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="923.5" y1="613.8516" y2="613.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="601.2192">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="106" y="593.6528">GET /search?...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="106" y="608.7856">Authorization: Bearer search-access_token</text><path d="M10,628.8516 L74,628.8516 L74,635.9844 L64,645.9844 L10,645.9844 L10,628.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="973" x="10" y="628.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="641.9185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="206" x="89" y="641.062">[search_access_token ist g&#252;ltig]</text><polygon fill="#181818" points="76,663.1172,66,667.1172,76,671.1172,72,667.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="70" x2="928.5" y1="667.1172" y2="667.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="82" y="662.0513">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="116" y="662.0513">HTTP 200 OK (Result Body json)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="983" y1="676.1172" y2="676.1172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="222" x="15" y="686.3276">[search_access_token ist ung&#252;ltig]</text><polygon fill="#181818" points="76,707.0547,66,711.0547,76,715.0547,72,711.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="70" x2="928.5" y1="711.0547" y2="711.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="82" y="705.9888">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="116" y="705.9888">HTTP 401</text><!--SRC=[ZLDTRzCm57tthxZAqoOrfQ09eOeEKMrZY8TMQyK36wfSvpOro-p87wFjj7_Mj_und9kkJI01ycJ7vvnxxhKFzquh_p170z7x-Vbjh_SzOcokLt35nPAhdwWIhrAMS-Eaa3bN3gBYA96eh8k0MpXkMK1389SANxzTn5VNds_Y2sbGE6tMTPdHH- -MyGJD8neIeXzrp04Y1HBcJmYL61kzMXE0LaSZJheCWJ313z5HEMabcj0NB7PRKsa06Jjk83wl7FKXDxlj0ZkWvv3kjfcJALg88elSY6NCXK1hPqxVeueYUDGcavWwndZcu1wbgf0QA0KXp3j1nI1yxIv4a5Lk9XFmeSVzpg8mw63J7NQ1Umj2guLC8KFRg4U3xiDuD9d2gxByoK6tKnSz9JunAjHo5j16gdEgzcrvbp4FPvkOQZSOB8jykWpsgeJYvWHtUASAW3PomvtKgW_3CD3mX9yQr9z9_iNAll7IVPkNElZIRD2ds7HfDNIro-lfT0nlUZqOVRbJJn3L7aSV6jzC1o9QpDmwnm8qfwQA_xZAGuJiJ1RaTs_FWl3plvv9M3Tx3j5WR320YIyGYG-0gevyeBGKwON1uFSyKBeEDrE8V-Xskz1s8KtrAH3bmQoM01bAx3D2pL6jlqmMJcxG-Y0srCaQVbYjJXbc5bl5G-3_I_wizvgcz0i0]--></g></svg>