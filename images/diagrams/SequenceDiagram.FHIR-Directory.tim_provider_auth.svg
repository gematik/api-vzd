<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="368.75px" preserveAspectRatio="none" style="width:1006px;height:368px;background:#FFFFFF;" version="1.1" viewBox="0 0 1006 368" width="1006.25px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="356.7525" style="stroke:#181818;stroke-width:0.5208333333333334;" width="183.3333" x="661.4583" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="16.6667" font-weight="bold" lengthAdjust="spacing" textLength="172.9167" x="664.5833" y="22.3633">VZD-FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="4.1667" x="837.5" y="23.0225"> </text><rect fill="#FFFFFF" height="205.0659" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="99.4792" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="444.2708" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="747.9167" y="216.5466"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="104.1667" x2="104.1667" y1="62.8459" y2="309.9019"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="448.9583" x2="448.9583" y1="62.8459" y2="309.9019"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="752.6042" x2="752.6042" y1="62.8459" y2="309.9019"/><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="198.9583" x="5.2083" y="12.8703"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="184.375" x="12.5" y="34.2611">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="147.9167" x="30.7292" y="51.4364">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="198.9583" x="5.2083" y="308.8603"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="184.375" x="12.5" y="330.2511">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="147.9167" x="30.7292" y="347.4264">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="113.5417" x="392.7083" y="12.8703"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="81.25" x="408.8542" y="34.2611">TI-Provider</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="98.9583" x="400" y="51.4364">OAuth-Server</text><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="113.5417" x="392.7083" y="308.8603"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="81.25" x="408.8542" y="330.2511">TI-Provider</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="98.9583" x="400" y="347.4264">OAuth-Server</text><rect fill="#E3E3E3" height="31.7586" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="107.2917" x="699.4792" y="30.0456"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="92.7083" x="706.7708" y="51.4364">Auth-Service</text><rect fill="#E3E3E3" height="31.7586" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="107.2917" x="699.4792" y="308.8603"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="92.7083" x="706.7708" y="330.2511">Auth-Service</text><rect fill="#FFFFFF" height="205.0659" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="99.4792" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="444.2708" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="747.9167" y="216.5466"/><polygon fill="#181818" points="431.7708,91.2944,442.1875,95.461,431.7708,99.6277,435.9375,95.461" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="109.8958" x2="438.0208" y1="95.461" y2="95.461"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="117.1875" y="90.5212">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="286.4583" x="150.5208" y="90.5212">POST /authenticate (client_id, client_secret)</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="454.6875" x2="498.4375" y1="125.9928" y2="125.9928"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="498.4375" x2="498.4375" y1="125.9928" y2="139.5345"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="455.7292" x2="498.4375" y1="139.5345" y2="139.5345"/><polygon fill="#181818" points="466.1458,135.3678,455.7292,139.5345,466.1458,143.7012,461.9792,139.5345" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="461.9792" y="121.0531">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="211.4583" x="495.3125" y="121.0531">prüfe client_id und client_secret</text><polygon fill="#181818" points="121.3542,165.8997,110.9375,170.0663,121.3542,174.233,117.1875,170.0663" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="115.1042" x2="448.4375" y1="170.0663" y2="170.0663"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="127.6042" y="165.1265">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="161.4583" x="160.9375" y="165.1265">ti-provider-accesstoken</text><polygon fill="#181818" points="735.4167,212.38,745.8333,216.5466,735.4167,220.7133,739.5833,216.5466" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="109.8958" x2="741.6667" y1="216.5466" y2="216.5466"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="117.1875" y="203.6326">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="197.9167" x="150.5208" y="195.6584">GET /ti-provider-authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="321.875" x="150.5208" y="211.6069">(Authorization: "Bearer ti-provider-accesstoken")</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="758.3333" x2="802.0833" y1="247.0785" y2="247.0785"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="802.0833" x2="802.0833" y1="247.0785" y2="260.6201"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="759.375" x2="802.0833" y1="260.6201" y2="260.6201"/><polygon fill="#181818" points="769.7917,256.4535,759.375,260.6201,769.7917,264.7868,765.625,260.6201" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="765.625" y="242.1387">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="200" x="798.9583" y="242.1387">prüfe ti-provider-accesstoken</text><polygon fill="#181818" points="121.3542,286.9853,110.9375,291.1519,121.3542,295.3186,117.1875,291.1519" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="115.1042" x2="752.0833" y1="291.1519" y2="291.1519"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="127.6042" y="286.2122">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="194.7917" x="160.9375" y="286.2122">tim-providerAPI-accesstoken</text><!--MD5=[7ed977fc83aafec72c3b3714d1a48b79]
@startuml I_VZD_TIM_Provider_Services
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true
autonumber "<b>[00]"

participant rd as "TI-Messenger-Fachdienst\nRegistrierungsdienst"
participant oa as "TI-Provider\nOAuth-Server"
box <size:16>VZD-FHIR-Directory</size> #WhiteSmoke
participant fa as "Auth-Service"
end box

rd -> oa: POST /authenticate (client_id, client_secret)
activate rd
activate oa
oa -> oa: prüfe client_id und client_secret
oa - -> rd: ti-provider-accesstoken
deactivate oa

rd -> fa: GET /ti-provider-authenticate\n(Authorization: "Bearer ti-provider-accesstoken")
activate fa
fa -> fa: prüfe ti-provider-accesstoken
fa - -> rd: tim-providerAPI-accesstoken
deactivate fa

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>