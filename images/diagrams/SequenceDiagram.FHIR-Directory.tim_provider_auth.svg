<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="368.75px" preserveAspectRatio="none" style="width:962px;height:368px;background:#FFFFFF;" version="1.1" viewBox="0 0 962 368" width="962.5px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="356.7525" style="stroke:#181818;stroke-width:0.5208333333333334;" width="183.3333" x="617.7083" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="16.6667" font-weight="bold" lengthAdjust="spacing" textLength="172.9167" x="620.8333" y="22.3633">VZD-FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="4.1667" x="793.75" y="23.0225"> </text><rect fill="#FFFFFF" height="205.0659" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="99.4792" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="400.5208" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="704.1667" y="216.5466"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="104.1667" x2="104.1667" y1="62.8459" y2="309.9019"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="405.2083" x2="405.2083" y1="62.8459" y2="309.9019"/><line style="stroke:#181818;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="708.8542" x2="708.8542" y1="62.8459" y2="309.9019"/><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="198.9583" x="5.2083" y="12.8703"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="184.375" x="12.5" y="34.2611">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="147.9167" x="30.7292" y="51.4364">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="198.9583" x="5.2083" y="308.8603"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="184.375" x="12.5" y="330.2511">TI-Messenger-Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="147.9167" x="30.7292" y="347.4264">Registrierungsdienst</text><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="113.5417" x="348.9583" y="12.8703"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="81.25" x="365.1042" y="34.2611">TI-Provider</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="98.9583" x="356.25" y="51.4364">OAuth-Server</text><rect fill="#E3E3E3" height="48.9339" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="113.5417" x="348.9583" y="308.8603"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="81.25" x="365.1042" y="330.2511">TI-Provider</text><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="98.9583" x="356.25" y="347.4264">OAuth-Server</text><rect fill="#E3E3E3" height="31.7586" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="107.2917" x="655.7292" y="30.0456"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="92.7083" x="663.0208" y="51.4364">Auth-Service</text><rect fill="#E3E3E3" height="31.7586" rx="2.6042" ry="2.6042" style="stroke:#181818;stroke-width:0.5208333333333334;" width="107.2917" x="655.7292" y="308.8603"/><text fill="#000000" font-family="sans-serif" font-size="14.5833" lengthAdjust="spacing" textLength="92.7083" x="663.0208" y="330.2511">Auth-Service</text><rect fill="#FFFFFF" height="205.0659" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="99.4792" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="400.5208" y="95.461"/><rect fill="#FFFFFF" height="74.6053" style="stroke:#181818;stroke-width:1.0416666666666667;" width="10.4167" x="704.1667" y="216.5466"/><polygon fill="#181818" points="388.0208,91.2944,398.4375,95.461,388.0208,99.6277,392.1875,95.461" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="109.8958" x2="394.2708" y1="95.461" y2="95.461"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="117.1875" y="90.5212">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="242.7083" x="150.5208" y="90.5212">POST /token (client_id, client_secret)</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="410.9375" x2="454.6875" y1="125.9928" y2="125.9928"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="454.6875" x2="454.6875" y1="125.9928" y2="139.5345"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="411.9792" x2="454.6875" y1="139.5345" y2="139.5345"/><polygon fill="#181818" points="422.3958,135.3678,411.9792,139.5345,422.3958,143.7012,418.2292,139.5345" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="418.2292" y="121.0531">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="211.4583" x="451.5625" y="121.0531">prüfe client_id und client_secret</text><polygon fill="#181818" points="121.3542,165.8997,110.9375,170.0663,121.3542,174.233,117.1875,170.0663" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="115.1042" x2="404.6875" y1="170.0663" y2="170.0663"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="127.6042" y="165.1265">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="161.4583" x="160.9375" y="165.1265">ti-provider-accesstoken</text><polygon fill="#181818" points="691.6667,212.38,702.0833,216.5466,691.6667,220.7133,695.8333,216.5466" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="109.8958" x2="697.9167" y1="216.5466" y2="216.5466"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="117.1875" y="203.6326">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="197.9167" x="150.5208" y="195.6584">GET /ti-provider-authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="321.875" x="150.5208" y="211.6069">(Authorization: "Bearer ti-provider-accesstoken")</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="714.5833" x2="758.3333" y1="247.0785" y2="247.0785"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="758.3333" x2="758.3333" y1="247.0785" y2="260.6201"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="715.625" x2="758.3333" y1="260.6201" y2="260.6201"/><polygon fill="#181818" points="726.0417,256.4535,715.625,260.6201,726.0417,264.7868,721.875,260.6201" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="721.875" y="242.1387">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="200" x="755.2083" y="242.1387">prüfe ti-provider-accesstoken</text><polygon fill="#181818" points="121.3542,286.9853,110.9375,291.1519,121.3542,295.3186,117.1875,291.1519" style="stroke:#181818;stroke-width:1.0416666666666667;"/><line style="stroke:#181818;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" x1="115.1042" x2="708.3333" y1="291.1519" y2="291.1519"/><text fill="#000000" font-family="sans-serif" font-size="13.5417" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="127.6042" y="286.2122">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13.5417" lengthAdjust="spacing" textLength="143.75" x="160.9375" y="286.2122">provider-accesstoken</text><!--MD5=[c0b694528f826a53a320d98855e09e9b]
@startuml SequenceDiagram.FHIR-Directory.tim_provider_auth
skinparam dpi 100
skinparam WrapWidth 200
skinparam monochrome true
autonumber "<b>[00]"

participant rd as "TI-Messenger-Fachdienst\nRegistrierungsdienst"
participant oa as "TI-Provider\nOAuth-Server"
box <size:16>VZD-FHIR-Directory</size> #WhiteSmoke
participant fa as "Auth-Service"
end box

rd -> oa: POST /token (client_id, client_secret)
activate rd
activate oa
oa -> oa: prüfe client_id und client_secret
oa - -> rd: ti-provider-accesstoken
deactivate oa

rd -> fa: GET /ti-provider-authenticate\n(Authorization: "Bearer ti-provider-accesstoken")
activate fa
fa -> fa: prüfe ti-provider-accesstoken
fa - -> rd: provider-accesstoken
deactivate fa

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>